extends layout

mixin gameCard(gamesArray, indexPos, domain, playStatus)
    div.gamecard__container
      img.gamecard__image(src=gamesArray[indexPos].image)
      div.gamecard__text-container
        a(href=`${domain}/games/${gamesArray[indexPos].id}`): .gamecard__game-title= gamesArray[indexPos].title
        .gamecard__dropdown-container
          .gamecard__dropdown-form
            form(action=`/users/${formSubmitId}/mygames`, method="post")
              input(type="hidden" name='_csrf' value=csrfToken)
              input(type="hidden" name='gameId' value=gamesArray[indexPos].id)
              select(name="status" onchange='this.form.submit()' value=playStatus)
                option(value='Not played' selected=playStatus==='Not Played' ? true : false) Not Played
                option(value='Want to Play' selected=playStatus==='Want to Play' ? true : false) Want to Play
                option(value="Playing" selected=playStatus==='Playing' ? true : false) Playing
                option(value="Played" selected=playStatus==='Played' ? true : false) Played
          .gamecard__rating-box
              .gamecard__rating= gamesArray[indexPos].likesCount


append head
  link(rel="stylesheet" href="/stylesheets/myGames-myReviews.css")
  link(rel="stylesheet" href="/stylesheets/gamecard.css")

block content
  h1.title #{title}
  br
  div.gamesContainer
    each game in myGames
        div.gameCards
            div.gamecard__container
              //- Image
              a(href=`/games/${game.id}`)
                img.gamecard__image(src=game.image)
              //- Overlay Text
              div.gamecard__text-container
                .gamecard__game-title=game.title
                //- Placeholder for div mini form
                .gamecard__dropdown-container
                  .gamecard__dropdown-form
                //- Rating Box using likesCount
                .gamecard__rating-box
                  .gamecard__rating= game.likesCount


        //- div
        //-   a.games(href="/categories/1")
        //-     h1.action-games Action & Adventure Games
        //- div.gameCards
        //-   - for(var n = 0; n < 4; n++)
        //-       - var playStatus = 'Not Played'
        //-       if (gameStatuses[actionGames[n].title] !== undefined)
        //-         - playStatus=gameStatuses[actionGames[n].title]
        //-       +gameCard(actionGames, n, domain, playStatus)
